import json

prompt_kit = {
  "PromptRules": {
    "assembly_order": ["character", "fashion", "hair", "face", "mood", "camera"],
    "probabilities": {"rule_based": 0.70, "soft_random": 0.20, "strong_random": 0.10, "free_pick": 0.30},
    "note": "Use rule-based picks unless free_pick triggers. Soft/Strong random only when not free_pick."
  },
  "PromptTemplates": {
    "character": "{gender}, age {age}, {body_type} body",
    "fashion": "wearing {top} and {bottom} with a {silhouette} silhouette, {palette} palette, {pattern} pattern, {exposure} exposure, {material} material; accessories: {accessories}",
    "hair": "{base_style} hairstyle, {texture} texture{wave_opt}{bangs_opt}{part_opt}, {color} color{hair_acc_opt}",
    "face": "{eyes}; brows: {brows}; nose: {nose}; lips: {lips}; skin: {skin}; jawline: {jaw}{cheekbones_opt}",
    "mood": "{mood_adjectives}",
    "camera": "cinematic lighting, {camera_type} shot, high detail, 4k"
  },
  "NegativePhrases": [
    "blurry", "out of frame", "low quality", "overexposed", "underexposed",
    "duplicate face", "extra limbs", "deformed hands", "text watermark"
  ],
  "FashionPhrases": {
    "Topwear": ["T-shirt","Shirt","Blouse","Crop top","Tank top","Sweater","Cardigan","Hoodie","Turtleneck","Jersey","Off-shoulder"],
    "Bottomwear": ["Jeans","Straight pants","Wide pants","Shorts","Mini skirt","Midi skirt","Long skirt","Leggings","Cargo pants"],
    "Dresses": ["Slip dress","Floral dress","Bodycon dress","Shirt dress","Evening gown"],
    "Outerwear": ["Blazer","Trench coat","Leather jacket","Denim jacket","Puffer jacket","Bomber","Long coat","Parka"],
    "Footwear": ["Sneakers","Loafers","Oxfords","Boots","Heels","Sandals","Running shoes"],
    "Accessories": ["Watch","Necklace","Earrings","Ring","Bracelet","Cap","Beanie","Sunglasses","Belt","Scarf","Tote bag","Backpack","Crossbody"],
    "ColorPalette": {
      "Bright": ["bright, saturated colors"],
      "Pastel": ["soft pastel colors"],
      "Neutral": ["neutral palette"],
      "Dark": ["dark, muted colors"],
      "Earth": ["earth tones"],
      "Neon": ["neon accents"]
    },
    "Pattern": {
      "Solid": ["solid color"],
      "Stripes": ["striped"],
      "Checks": ["checkered"],
      "Florals": ["floral pattern"],
      "Graphics": ["graphic print"],
      "Camo": ["camouflage"],
      "Polka": ["polka dots"]
    },
    "Silhouette": {
      "Fitted": ["fitted silhouette"],
      "Straight": ["straight silhouette"],
      "Oversized": ["oversized fit"],
      "Flared": ["flared hem"],
      "Cropped": ["cropped fit"],
      "Layered": ["layered styling"]
    },
    "Exposure": {
      "Conservative": ["modest, minimal skin exposure"],
      "Moderate": ["moderate exposure"],
      "Bold": ["high-contrast, daring cuts"]
    },
    "Material": ["Cotton","Linen","Wool","Denim","Leather","Silk","Satin","Synthetic","Mesh","Knitted"]
  },
  "HairPhrases": {
    "Base": {
      "Clean Bob": ["clean bob"],
      "Wavy Bob": ["wavy bob"],
      "Long Straight": ["long straight hair"],
      "Long Wave": ["long wavy hair"],
      "Short Wave": ["short wavy hair"],
      "Ponytail": ["high ponytail"],
      "Twin Tail": ["twin tails"],
      "Braids": ["braided hair"],
      "Updo": ["elegant updo"],
      "Half-up": ["half-up hairstyle"],
      "Slick Back": ["slicked-back hair"],
      "Asymmetric": ["asymmetric cut"],
      "Dyed": ["vivid dyed hair"],
      "Layered": ["layered haircut"],
      "Short Cut": ["short haircut"],
      "Buzz Cut": ["buzz cut"],
      "Undercut": ["undercut"],
      "Fade": ["fade cut"],
      "Curly Afro": ["curly afro"],
      "Perm": ["permed hair"]
    },
    "Texture": ["Straight","Wavy","Curly","Coily"],
    "WaveVariants": {
      "Loose Wave": ["loose, flowing waves"],
      "Tight Wave": ["tight, regular waves"],
      "Messy Wave": ["messy, irregular waves"],
      "Bouncy Wave": ["bouncy, voluminous waves"],
      "Wet Wave": ["wet-look waves"]
    },
    "Bangs": {
      "None": [""],
      "See-through": ["see-through bangs"],
      "Blunt": ["blunt bangs"],
      "Side": ["side-swept bangs"]
    },
    "Part": {"Middle": ["middle part"], "Side": ["side part"], "Zigzag": ["zigzag part"]},
    "Color": ["Black","Dark brown","Light brown","Blonde","Platinum","Red","Auburn","Ash","Blue","Green","Pink","Purple","Gray","Silver","Ombre","Two-tone","Highlights"],
    "Accessories": ["Hairband","Clip","Ribbon","Scrunchie","Barrette"]
  },
  "FacePhrases": {
    "EyesShape": {
      "Large round": ["large round eyes"],
      "Almond": ["almond-shaped eyes"],
      "Monolid": ["monolid eyes"],
      "Double lid": ["double eyelids"],
      "Downturned": ["downturned eyes"],
      "Upturned": ["upturned eyes"],
      "Wide-set": ["wide-set eyes"],
      "Close-set": ["close-set eyes"]
    },
    "Brows": {
      "Straight soft": ["soft straight brows"],
      "Natural curve": ["naturally curved brows"],
      "Arched sharp": ["sharply arched brows"],
      "Thick": ["thick brows"],
      "Thin": ["thin brows"]
    },
    "Nose": {"Small": ["small nose"], "Straight": ["straight nose"], "Button": ["button nose"], "Aquiline": ["aquiline nose"], "Wide": ["wide nose"]},
    "Lips": {"Full": ["full lips"], "Medium": ["medium lips"], "Thin": ["thin lips"], "Heart-shaped": ["heart-shaped lips"], "Downturned": ["downturned lips"], "Smirk": ["a slight smirk"]},
    "SkinTone": {"Porcelain": ["porcelain skin"], "Fair": ["fair skin"], "Light": ["light skin"], "Medium": ["medium skin"], "Olive": ["olive skin"], "Tan": ["tan skin"], "Deep": ["deep skin"]},
    "SkinDetail": {"Freckles": ["freckles"], "Moles": ["beauty marks"], "Blush low": ["low, natural blush"], "Blush high": ["high, vivid blush"], "None": ["clear skin"]},
    "Jawline": {"Soft rounded": ["soft rounded jawline"], "Oval": ["oval jawline"], "Sharp angular": ["sharp angular jawline"], "Wide strong": ["wide, strong jawline"]},
    "Cheekbones": {"Low": ["low cheekbones"], "Medium": ["medium cheekbones"], "High": ["high cheekbones"]}
  },
  "AxisToPhraseBias": [
    {"axis_kr":"내향성","-1":{"boost":["Exposure.Conservative","ColorPalette.Pastel","Base.Clean Bob","Brows.Straight soft","Mouth.Neutral"]},
                      "+1":{"boost":["Exposure.Bold","Accessories.Sunglasses","Base.Ponytail","Base.Dyed","ColorPalette.Bright","Mouth.Smile"]}},
    {"axis_kr":"보수/진보","-1":{"boost":["Silhouette.Straight","Pattern.Solid","Base.Long Straight"]},
                         "+1":{"boost":["Silhouette.Oversized","Pattern.Graphics","Base.Asymmetric","Base.Dyed"]}},
    {"axis_kr":"질서/자유","-1":{"boost":["Silhouette.Fitted","Pattern.Solid","Base.Clean Bob"]},
                           "+1":{"boost":["Silhouette.Layered","Pattern.Florals","WaveVariants.Messy Wave"]}},
    {"axis_kr":"여성/남성 이미지","-1":{"boost":["Dresses.Floral dress","Footwear.Heels","Base.Long Wave","Brows.Natural curve"]},
                                   "+1":{"boost":["Outerwear.Blazer","Footwear.Boots","Base.Slick Back","Base.Buzz Cut","Jawline.Wide strong"]}},
    {"axis_kr":"낙천/비관","-1":{"boost":["ColorPalette.Bright","Pattern.Polka","Mouth.Smile","Lips.Full","WaveVariants.Bouncy Wave"]},
                         "+1":{"boost":["ColorPalette.Dark","Pattern.Solid","Mouth.Slight frown","Lips.Thin","WaveVariants.Wet Wave"]}},
    {"axis_kr":"감정/이성","-1":{"boost":["EyesShape.Large round","SkinDetail.Blush high","Tone.Warm"]},
                           "+1":{"boost":["EyesShape.Almond","Mouth.Tight","Jawline.Sharp angular","Tone.Informative"]}},
    {"axis_kr":"예술/과학","-1":{"boost":["Pattern.Florals","Accessories.Ring","WaveVariants.Messy Wave","Tone.Bright"]},
                           "+1":{"boost":["Silhouette.Straight","ColorPalette.Neutral","Tone.Even","Tone.Clear"]}},
    {"axis_kr":"친절/무정","-1":{"boost":["Tone.Friendly","Tone.Gentle","WaveVariants.Loose Wave"]},
                           "+1":{"boost":["Tone.Firm","Tone.Informative","WaveVariants.Wet Wave"]}}
  ],
  "HowToBuild": [
    "1) Check free_pick (30%). If true, sample everything randomly from catalogs.",
    "2) Else compute axis boosts. For each category, add weights to boosted phrases.",
    "3) Sample Top/Bottom/Dress/Outerwear/Accessories using weighted multinomial; ensure logical outfit.",
    "4) Build hair: pick Base, then Texture; if Base includes Wave, pick WaveVariant with bias; pick Bangs/Part/Color/Accessories.",
    "5) Build face: pick one phrase per feature category with applied boosts; add 15% micro-contrast (contradictory detail).",
    "6) Render templates in assembly_order. Join with commas. Append NegativePhrases."
  ]
}

out_path = "/mnt/data/visual_prompt_kit_v1.json"
with open(out_path, "w", encoding="utf-8") as f:
  json.dump(prompt_kit, f, ensure_ascii=False, indent=2)

out_path
