### 문제 분석 및 설명 (한글)

위의 오류 메시지는 JavaScript 코드에서 `undefined`인 객체의 `filter` 메서드를 호출하려고 시도했을 때 발생한 `TypeError`입니다. 오류의 원인은 `populateNarratorVoices` 함수 내에서 `filter` 메서드를 호출하는 부분에서 특정 배열이나 객체가 `undefined`로 처리되고 있는 것입니다. 이 문제는 `CharacterSystem` JSON의 `Voice` 섹션에서 `gender_pool` 또는 관련 데이터가 올바르게 처리되지 않았을 가능성과 관련이 있을 수 있습니다.

#### 오류 상세 분석
- **오류 메시지**: `Cannot read properties of undefined (reading 'filter')`
  - 이는 특정 변수(예: 배열이나 객체)가 `undefined`일 때 `filter` 메서드를 호출하려고 했음을 의미합니다.
- **스택 트레이스**:
  - 오류는 `populateNarratorVoices` 함수(1052:57)에서 발생했습니다.
  - 이 함수는 `Voice` 데이터(예: `gender_pool`의 `female` 또는 `male` 배열)를 처리하려고 시도했을 가능성이 높습니다.
- **가능한 원인**:
  1. `CharacterSystem.Voice.gender_pool`의 `female` 또는 `male` 배열이 올바르게 정의되지 않았거나, 접근하려는 데이터가 누락됨.
  2. JSON 구조가 잘못되었거나, 코드에서 예상치 못한 데이터 형식을 처리하고 있음.
  3. JSON의 `Voice` 섹션에서 `filter`를 호출하는 코드가 잘못된 키나 경로를 참조하고 있음.
- **추측**:
  - `gender_pool`의 `female` 또는 `male` 배열이 비어 있거나, 코드에서 이 배열을 직접 참조하지 않고 잘못된 하위 속성을 호출했을 가능성.
  - 예를 들어, `gender_pool.female.filter(...)`를 호출했는데 `gender_pool.female`가 `undefined`일 수 있음.

#### 수정 방안
1. **JSON 검증**: `CharacterSystem.Voice.gender_pool`의 `female`과 `male` 배열이 올바르게 정의되어 있는지 확인했습니다. 이전 JSON에서 두 배열은 정상적으로 정의되어 있으므로, JSON 자체는 문제 없음.
2. **오류 원인 코드 추측**: 오류는 JSON 데이터가 아니라 이를 처리하는 JavaScript 코드에서 발생한 것으로 보입니다. 예를 들어, `populateNarratorVoices`에서 `gender_pool`의 하위 속성을 잘못 참조하거나, 데이터가 로드되기 전에 `filter`를 호출했을 가능성.
3. **수정된 JSON**: JSON은 이미 유효하며, 오류를 방지하기 위해 `Voice` 섹션의 구조를 명확히 유지하고, 빈 배열이나 누락된 키를 추가로 확인했습니다. 추가적으로, `tone_axis_map`에서 `+pitch`와 `+speed`가 배열로 정의된 부분(`assertiveness` 축의 `-1` 값)을 객체로 수정하여 일관성을 유지했습니다.

### 수정된 JSON
아래는 `PromptKit`과 `CharacterSystem`을 하나의 객체로 합친 수정된 JSON입니다. `Voice.tone_axis_map`의 `assertiveness` 축에서 `+pitch`와 `+speed`를 배열에서 단일 값으로 변경하여 잠재적 오류를 줄였습니다. 이 JSON은 복사하여 바로 사용할 수 있습니다.

```json
{
  "PromptKit": {
    "PromptRules": {
      "assembly_order": ["character", "fashion", "hair", "face", "mood", "camera"],
      "probabilities": {
        "rule_based": 0.70,
        "soft_random": 0.20,
        "strong_random": 0.10,
        "free_pick": 0.30
      },
      "note": "Use rule-based picks unless free_pick triggers. Soft/Strong random only when not free_pick."
    },
    "PromptTemplates": {
      "character": "{gender}, age {age}, {body_type} body",
      "fashion": "wearing {top} and {bottom} with a {silhouette} silhouette, {palette} palette, {pattern} pattern, {exposure} exposure, {material} material; accessories: {accessories}",
      "hair": "{base_style} hairstyle, {texture} texture{wave_opt}{bangs_opt}{part_opt}, {color} color{hair_acc_opt}",
      "face": "{eyes}; brows: {brows}; nose: {nose}; lips: {lips}; skin: {skin}; jawline: {jaw}{cheekbones_opt}",
      "mood": "{mood_adjectives}",
      "camera": "cinematic lighting, {camera_type} shot, high detail, 4k"
    },
    "NegativePhrases": [
      "blurry",
      "out of frame",
      "low quality",
      "overexposed",
      "underexposed",
      "duplicate face",
      "extra limbs",
      "deformed hands",
      "text watermark"
    ],
    "FashionPhrases": {
      "Topwear": ["T-shirt", "Shirt", "Blouse", "Crop top", "Tank top", "Sweater", "Cardigan", "Hoodie", "Turtleneck", "Jersey", "Off-shoulder"],
      "Bottomwear": ["Jeans", "Straight pants", "Wide pants", "Shorts", "Mini skirt", "Midi skirt", "Long skirt", "Leggings", "Cargo pants"],
      "Dresses": ["Slip dress", "Floral dress", "Bodycon dress", "Shirt dress", "Evening gown"],
      "Outerwear": ["Blazer", "Trench coat", "Leather jacket", "Denim jacket", "Puffer jacket", "Bomber", "Long coat", "Parka"],
      "Footwear": ["Sneakers", "Loafers", "Oxfords", "Boots", "Heels", "Sandals", "Running shoes"],
      "Accessories": ["Watch", "Necklace", "Earrings", "Ring", "Bracelet", "Cap", "Beanie", "Sunglasses", "Belt", "Scarf", "Tote bag", "Backpack", "Crossbody"],
      "ColorPalette": {
        "Bright": ["bright, saturated colors"],
        "Pastel": ["soft pastel colors"],
        "Neutral": ["neutral palette"],
        "Dark": ["dark, muted colors"],
        "Earth": ["earth tones"],
        "Neon": ["neon accents"]
      },
      "Pattern": {
        "Solid": ["solid color"],
        "Stripes": ["striped"],
        "Checks": ["checkered"],
        "Florals": ["floral pattern"],
        "Graphics": ["graphic print"],
        "Camo": ["camouflage"],
        "Polka": ["polka dots"]
      },
      "Silhouette": {
        "Fitted": ["fitted silhouette"],
        "Straight": ["straight silhouette"],
        "Oversized": ["oversized fit"],
        "Flared": ["flared hem"],
        "Cropped": ["cropped fit"],
        "Layered": ["layered styling"]
      },
      "Exposure": {
        "Conservative": ["modest, minimal skin exposure"],
        "Moderate": ["moderate exposure"],
        "Bold": ["high-contrast, daring cuts"]
      },
      "Material": ["Cotton", "Linen", "Wool", "Denim", "Leather", "Silk", "Satin", "Synthetic", "Mesh", "Knitted"]
    },
    "HairPhrases": {
      "Base": {
        "Clean Bob": ["clean bob"],
        "Wavy Bob": ["wavy bob"],
        "Long Straight": ["long straight hair"],
        "Long Wave": ["long wavy hair"],
        "Short Wave": ["short wavy hair"],
        "Ponytail": ["high ponytail"],
        "Twin Tail": ["twin tails"],
        "Braids": ["braided hair"],
        "Updo": ["elegant updo"],
        "Half-up": ["half-up hairstyle"],
        "Slick Back": ["slicked-back hair"],
        "Asymmetric": ["asymmetric cut"],
        "Dyed": ["vivid dyed hair"],
        "Layered": ["layered haircut"],
        "Short Cut": ["short haircut"],
        "Buzz Cut": ["buzz cut"],
        "Undercut": ["undercut"],
        "Fade": ["fade cut"],
        "Curly Afro": ["curly afro"],
        "Perm": ["permed hair"]
      },
      "Texture": ["Straight", "Wavy", "Curly", "Coily"],
      "WaveVariants": {
        "Loose Wave": ["loose, flowing waves"],
        "Tight Wave": ["tight, regular waves"],
        "Messy Wave": ["messy, irregular waves"],
        "Bouncy Wave": ["bouncy, voluminous waves"],
        "Wet Wave": ["wet-look waves"]
      },
      "Bangs": {
        "None": [""],
        "See-through": ["see-through bangs"],
        "Blunt": ["blunt bangs"],
        "Side": ["side-swept bangs"]
      },
      "Part": {
        "Middle": ["middle part"],
        "Side": ["side part"],
        "Zigzag": ["zigzag part"]
      },
      "Color": ["Black", "Dark brown", "Light brown", "Blonde", "Platinum", "Red", "Auburn", "Ash", "Blue", "Green", "Pink", "Purple", "Gray", "Silver", "Ombre", "Two-tone", "Highlights"],
      "Accessories": ["Hairband", "Clip", "Ribbon", "Scrunchie", "Barrette"]
    },
    "FacePhrases": {
      "EyesShape": {
        "Large round": ["large round eyes"],
        "Almond": ["almond-shaped eyes"],
        "Monolid": ["monolid eyes"],
        "Double lid": ["double eyelids"],
        "Downturned": ["downturned eyes"],
        "Upturned": ["upturned eyes"],
        "Wide-set": ["wide-set eyes"],
        "Close-set": ["close-set eyes"]
      },
      "Brows": {
        "Straight soft": ["soft straight brows"],
        "Natural curve": ["naturally curved brows"],
        "Arched sharp": ["sharply arched brows"],
        "Thick": ["thick brows"],
        "Thin": ["thin brows"]
      },
      "Nose": {
        "Small": ["small nose"],
        "Straight": ["straight nose"],
        "Button": ["button nose"],
        "Aquiline": ["aquiline nose"],
        "Wide": ["wide nose"]
      },
      "Lips": {
        "Full": ["full lips"],
        "Medium": ["medium lips"],
        "Thin": ["thin lips"],
        "Heart-shaped": ["heart-shaped lips"],
        "Downturned": ["downturned lips"],
        "Smirk": ["a slight smirk"]
      },
      "SkinTone": {
        "Porcelain": ["porcelain skin"],
        "Fair": ["fair skin"],
        "Light": ["light skin"],
        "Medium": ["medium skin"],
        "Olive": ["olive skin"],
        "Tan": ["tan skin"],
        "Deep": ["deep skin"]
      },
      "SkinDetail": {
        "Freckles": ["freckles"],
        "Moles": ["beauty marks"],
        "Blush low": ["low, natural blush"],
        "Blush high": ["high, vivid blush"],
        "None": ["clear skin"]
      },
      "Jawline": {
        "Soft rounded": ["soft rounded jawline"],
        "Oval": ["oval jawline"],
        "Sharp angular": ["sharp angular jawline"],
        "Wide strong": ["wide, strong jawline"]
      },
      "Cheekbones": {
        "Low": ["low cheekbones"],
        "Medium": ["medium cheekbones"],
        "High": ["high cheekbones"]
      }
    },
    "AxisToPhraseBias": [
      {
        "axis_kr": "내향성",
        "-1": {
          "boost": ["Exposure.Conservative", "ColorPalette.Pastel", "Base.Clean Bob", "Brows.Straight soft", "Mouth.Neutral"]
        },
        "+1": {
          "boost": ["Exposure.Bold", "Accessories.Sunglasses", "Base.Ponytail", "Base.Dyed", "ColorPalette.Bright", "Mouth.Smile"]
        }
      },
      {
        "axis_kr": "보수/진보",
        "-1": {
          "boost": ["Silhouette.Straight", "Pattern.Solid", "Base.Long Straight"]
        },
        "+1": {
          "boost": ["Silhouette.Oversized", "Pattern.Graphics", "Base.Asymmetric", "Base.Dyed"]
        }
      },
      {
        "axis_kr": "질서/자유",
        "-1": {
          "boost": ["Silhouette.Fitted", "Pattern.Solid", "Base.Clean Bob"]
        },
        "+1": {
          "boost": ["Silhouette.Layered", "Pattern.Florals", "WaveVariants.Messy Wave"]
        }
      },
      {
        "axis_kr": "여성/남성 이미지",
        "-1": {
          "boost": ["Dresses.Floral dress", "Footwear.Heels", "Base.Long Wave", "Brows.Natural curve"]
        },
        "+1": {
          "boost": ["Outerwear.Blazer", "Footwear.Boots", "Base.Slick Back", "Base.Buzz Cut", "Jawline.Wide strong"]
        }
      },
      {
        "axis_kr": "낙천/비관",
        "-1": {
          "boost": ["ColorPalette.Bright", "Pattern.Polka", "Mouth.Smile", "Lips.Full", "WaveVariants.Bouncy Wave"]
        },
        "+1": {
          "boost": ["ColorPalette.Dark", "Pattern.Solid", "Mouth.Slight frown", "Lips.Thin", "WaveVariants.Wet Wave"]
        }
      },
      {
        "axis_kr": "감정/이성",
        "-1": {
          "boost": ["EyesShape.Large round", "SkinDetail.Blush high", "Tone.Warm"]
        },
        "+1": {
          "boost": ["EyesShape.Almond", "Mouth.Tight", "Jawline.Sharp angular", "Tone.Informative"]
        }
      },
      {
        "axis_kr": "예술/과학",
        "-1": {
          "boost": ["Pattern.Florals", "Accessories.Ring", "WaveVariants.Messy Wave", "Tone.Bright"]
        },
        "+1": {
          "boost": ["Silhouette.Straight", "ColorPalette.Neutral", "Tone.Even", "Tone.Clear"]
        }
      },
      {
        "axis_kr": "친절/무정",
        "-1": {
          "boost": ["Tone.Friendly", "Tone.Gentle", "WaveVariants.Loose Wave"]
        },
        "+1": {
          "boost": ["Tone.Firm", "Tone.Informative", "WaveVariants.Wet Wave"]
        }
      }
    ],
    "HowToBuild": [
      "1) Check free_pick (30%). If true, sample everything randomly from catalogs.",
      "2) Else compute axis boosts. For each category, add weights to boosted phrases.",
      "3) Sample Top/Bottom/Dress/Outerwear/Accessories using weighted multinomial; ensure logical outfit.",
      "4) Build hair: pick Base, then Texture; if Base includes Wave, pick WaveVariant with bias; pick Bangs/Part/Color/Accessories.",
      "5) Build face: pick one phrase per feature category with applied boosts; add 15% micro-contrast (contradictory detail).",
      "6) Render templates in assembly_order. Join with commas. Append NegativePhrases."
    ]
  },
  "CharacterSystem": {
    "UI": {
      "slider_values": [-1, 0, 1],
      "labels": {
        "-1": "Left trait",
        "0": "Neutral",
        "1": "Right trait"
      },
      "note": "Each axis uses -1/0/+1. Values feed selection and adjustments."
    },
    "SelectionStrategy": {
      "precedence": ["free_pick_check", "rule_mix_selection"],
      "free_pick_prob": 0.30,
      "rule_mix": {
        "rule_based": 0.70,
        "soft_random": 0.20,
        "strong_random": 0.10
      }
    },
    "Voice": {
      "gender_pool": {
        "female": ["Achernar", "Aoede", "Autonoe", "Callirrhoe", "Despina", "Erinome", "Gacrux", "Kore", "Laomedeia", "Leda", "Pulcherrima", "Sulafat", "Vindemiatrix", "Zephyr"],
        "male": ["Achird", "Algenib", "Algieba", "Alnilam", "Charon", "Enceladus", "Fenrir", "Iapetus", "Orus", "Puck", "Rasalgethi", "Sadachbia", "Sadaltager", "Schedar", "Umbriel", "Zubenelgenubi"]
      },
      "tones": ["Bright", "Upbeat", "Informative", "Firm", "Excitable", "Youthful", "Breezy", "Easy-going", "Breathy", "Clear", "Smooth", "Gravelly", "Soft", "Even", "Mature", "Forward", "Friendly", "Casual", "Gentle", "Lively", "Knowledgeable", "Warm"],
      "tone_axis_map": [
        {
          "axis_id": "introversion",
          "label_kr": "내향성",
          "-1": {
            "prefer": ["Gentle", "Clear", "Soft"],
            "avoid": ["Upbeat", "Lively"]
          },
          "+1": {
            "prefer": ["Upbeat", "Lively", "Youthful"],
            "avoid": ["Gentle"]
          }
        },
        {
          "axis_id": "assertiveness",
          "label_kr": "적극성",
          "-1": {
            "prefer": ["Casual", "Clear"],
            "pitch": 0,
            "speed": -0.05
          },
          "+1": {
            "prefer": ["Forward", "Firm", "Upbeat"],
            "speed": 0.05
          }
        },
        {
          "axis_id": "calm_temper",
          "label_kr": "차분/다혈질",
          "-1": {
            "prefer": ["Smooth", "Gentle", "Even"]
          },
          "+1": {
            "prefer": ["Excitable", "Forward", "Lively"]
          }
        },
        {
          "axis_id": "emotional_rational",
          "label_kr": "감정/이성",
          "-1": {
            "prefer": ["Warm", "Breathy", "Gentle"]
          },
          "+1": {
            "prefer": ["Informative", "Firm", "Clear"]
          }
        },
        {
          "axis_id": "optimism_pessimism",
          "label_kr": "낙천/비관",
          "-1": {
            "prefer": ["Upbeat", "Bright", "Friendly"]
          },
          "+1": {
            "prefer": ["Even", "Informative", "Soft"]
          }
        },
        {
          "axis_id": "fragile_strong",
          "label_kr": "유약/강인",
          "-1": {
            "prefer": ["Gentle", "Warm"]
          },
          "+1": {
            "prefer": ["Firm", "Gravelly", "Mature"]
          }
        },
        {
          "axis_id": "brave_coward",
          "label_kr": "용감/비겁",
          "-1": {
            "prefer": ["Forward", "Firm"]
          },
          "+1": {
            "prefer": ["Soft", "Clear"]
          }
        },
        {
          "axis_id": "feminine_masculine_image",
          "label_kr": "여성/남성 이미지",
          "-1": {
            "prefer": ["Gentle", "Warm", "Soft"]
          },
          "+1": {
            "prefer": ["Firm", "Gravelly", "Mature"]
          }
        },
        {
          "axis_id": "kind_cold",
          "label_kr": "친절/무정",
          "-1": {
            "prefer": ["Friendly", "Warm", "Gentle"]
          },
          "+1": {
            "prefer": ["Informative", "Firm"]
          }
        },
        {
          "axis_id": "art_science",
          "label_kr": "예술/과학",
          "-1": {
            "prefer": ["Bright", "Warm", "Breezy"]
          },
          "+1": {
            "prefer": ["Informative", "Even", "Clear"]
          }
        },
        {
          "axis_id": "aggressive_defensive",
          "label_kr": "공격/방어",
          "-1": {
            "prefer": ["Forward", "Firm"]
          },
          "+1": {
            "prefer": ["Gentle", "Even"]
          }
        }
      ],
      "adjustments": {
        "speed_base": 1.0,
        "speed_min": 0.9,
        "speed_max": 1.5,
        "pitch_base": 0,
        "pitch_min": -5,
        "pitch_max": 5,
        "algorithm": "Sum weighted deltas by axis value v∈{-1,0,+1}. Clamp to ranges. If free_pick triggers, sample uniform within ranges.",
        "axis_rules": [
          {
            "id": "introversion",
            "label_kr": "내향성",
            "weight": 1.0,
            "values": {
              "-1": {
                "speed": -0.20,
                "pitch": -2
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": 0.20,
                "pitch": 2
              }
            }
          },
          {
            "id": "assertiveness",
            "label_kr": "적극성",
            "weight": 0.8,
            "values": {
              "-1": {
                "speed": -0.10,
                "pitch": 0
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": 0.10,
                "pitch": 0
              }
            }
          },
          {
            "id": "calm_temper",
            "label_kr": "차분/다혈질",
            "weight": 1.0,
            "values": {
              "-1": {
                "speed": -0.15,
                "pitch": 0
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": 0.20,
                "pitch": 1
              }
            }
          },
          {
            "id": "stability_anxiety",
            "label_kr": "안정/불안",
            "weight": 0.6,
            "values": {
              "-1": {
                "speed": -0.05,
                "pitch": 0
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": 0.05,
                "pitch": 0
              }
            }
          },
          {
            "id": "optimism_pessimism",
            "label_kr": "낙천/비관",
            "weight": 0.7,
            "values": {
              "-1": {
                "speed": 0.05,
                "pitch": 1
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": -0.05,
                "pitch": -1
              }
            }
          },
          {
            "id": "fragile_strong",
            "label_kr": "유약/강인",
            "weight": 1.0,
            "values": {
              "-1": {
                "speed": 0,
                "pitch": 2
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": 0,
                "pitch": -2
              }
            }
          },
          {
            "id": "brave_coward",
            "label_kr": "용감/비겁",
            "weight": 0.7,
            "values": {
              "-1": {
                "speed": 0.05,
                "pitch": -1
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": -0.05,
                "pitch": 1
              }
            }
          },
          {
            "id": "emotional_rational",
            "label_kr": "감정/이성",
            "weight": 0.6,
            "values": {
              "-1": {
                "speed": 0.05,
                "pitch": 1
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": -0.05,
                "pitch": -1
              }
            }
          },
          {
            "id": "quiet_talkative",
            "label_kr": "과묵/수다",
            "weight": 0.8,
            "values": {
              "-1": {
                "speed": -0.10,
                "pitch": 0
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": 0.10,
                "pitch": 0
              }
            }
          },
          {
            "id": "leisure_hasty",
            "label_kr": "느긋/급함",
            "weight": 1.0,
            "values": {
              "-1": {
                "speed": -0.15,
                "pitch": 0
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": 0.15,
                "pitch": 0
              }
            }
          },
          {
            "id": "lead_conform",
            "label_kr": "주도/순응",
            "weight": 0.5,
            "values": {
              "-1": {
                "speed": 0.05,
                "pitch": 0
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": -0.05,
                "pitch": 0
              }
            }
          },
          {
            "id": "active_passive",
            "label_kr": "능동/수동",
            "weight": 0.5,
            "values": {
              "-1": {
                "speed": 0.05,
                "pitch": 0
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": -0.05,
                "pitch": 0
              }
            }
          },
          {
            "id": "obedient_dominant",
            "label_kr": "순종/지배",
            "weight": 0.5,
            "values": {
              "-1": {
                "speed": -0.05,
                "pitch": 0
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": 0.05,
                "pitch": 0
              }
            }
          },
          {
            "id": "feminine_masculine_image",
            "label_kr": "여성/남성 이미지",
            "weight": 0.4,
            "values": {
              "-1": {
                "speed": 0,
                "pitch": 1
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": 0,
                "pitch": -1
              }
            }
          },
          {
            "id": "kind_cold",
            "label_kr": "친절/무정",
            "weight": 0.4,
            "values": {
              "-1": {
                "speed": 0,
                "pitch": 1
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": 0,
                "pitch": -1
              }
            }
          },
          {
            "id": "art_science",
            "label_kr": "예술/과학",
            "weight": 0.3,
            "values": {
              "-1": {
                "speed": 0,
                "pitch": 1
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": 0,
                "pitch": 0
              }
            }
          },
          {
            "id": "sensitive_stoic",
            "label_kr": "예민/무던",
            "weight": 0.4,
            "values": {
              "-1": {
                "speed": 0.05,
                "pitch": 0
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": -0.05,
                "pitch": 0
              }
            }
          },
          {
            "id": "aggressive_defensive",
            "label_kr": "공격/방어",
            "weight": 0.5,
            "values": {
              "-1": {
                "speed": 0.05,
                "pitch": 0
              },
              "0": {
                "speed": 0,
                "pitch": 0
              },
              "+1": {
                "speed": -0.05,
                "pitch": 0
              }
            }
          }
        ]
      }
    },
    "Fashion": {
      "catalog": {
        "Topwear": ["T-shirt", "Shirt", "Blouse", "Crop top", "Tank top", "Sweater", "Cardigan", "Hoodie", "Turtleneck", "Jersey", "Off-shoulder"],
        "Bottomwear": ["Jeans", "Straight pants", "Wide pants", "Shorts", "Skirt mini", "Skirt midi", "Skirt long", "Leggings", "Cargo pants"],
        "Dresses": ["Slip dress", "Floral dress", "Bodycon dress", "Shirt dress", "Evening gown"],
        "Outerwear": ["Blazer", "Trench coat", "Leather jacket", "Denim jacket", "Puffer jacket", "Bomber", "Long coat", "Parka"],
        "Footwear": ["Sneakers", "Loafers", "Oxfords", "Boots", "Heels", "Sandals", "Running shoes"],
        "Accessories": ["Watch", "Necklace", "Earrings", "Ring", "Bracelet", "Cap", "Beanie", "Sunglasses", "Belt", "Scarf", "Tote bag", "Backpack", "Crossbody"],
        "ColorPalette": ["Bright", "Pastel", "Neutral", "Dark", "Earth", "Neon"],
        "Pattern": ["Solid", "Stripes", "Checks", "Florals", "Graphics", "Camo", "Polka"],
        "Silhouette": ["Fitted", "Straight", "Oversized", "Flared", "Cropped", "Layered"],
        "Exposure": ["Conservative", "Moderate", "Bold"],
        "Material": ["Cotton", "Linen", "Wool", "Denim", "Leather", "Silk", "Satin", "Synthetic", "Mesh", "Knitted"]
      },
      "axis_bias": [
        {
          "axis_kr": "보수/진보",
          "-1": {
            "boost": {
              "Exposure.Conservative": 0.25,
              "ColorPalette.Neutral": 0.20,
              "Silhouette.Straight": 0.15
            }
          },
          "+1": {
            "boost": {
              "Exposure.Bold": 0.25,
              "ColorPalette.Bright": 0.20,
              "Pattern.Graphics": 0.15,
              "Silhouette.Oversized": 0.10
            }
          }
        },
        {
          "axis_kr": "내향성",
          "-1": {
            "boost": {
              "Exposure.Conservative": 0.20,
              "ColorPalette.Pastel": 0.10,
              "Accessories.Scarf": 0.05
            }
          },
          "+1": {
            "boost": {
              "Exposure.Bold": 0.20,
              "Accessories.Sunglasses": 0.10,
              "Accessories.Necklace": 0.05
            }
          }
        },
        {
          "axis_kr": "질서/자유",
          "-1": {
            "boost": {
              "Silhouette.Fitted": 0.20,
              "Pattern.Solid": 0.15
            }
          },
          "+1": {
            "boost": {
              "Silhouette.Layered": 0.20,
              "Pattern.Florals": 0.10,
              "Pattern.Graphics": 0.10
            }
          }
        },
        {
          "axis_kr": "예술/과학",
          "-1": {
            "boost": {
              "Pattern.Florals": 0.15,
              "Pattern.Checks": 0.10,
              "Accessories.Ring": 0.05
            }
          },
          "+1": {
            "boost": {
              "Silhouette.Straight": 0.10,
              "ColorPalette.Neutral": 0.10
            }
          }
        },
        {
          "axis_kr": "여성/남성 이미지",
          "-1": {
            "boost": {
              "Dresses.Floral dress": 0.20,
              "Footwear.Heels": 0.10
            }
          },
          "+1": {
            "boost": {
              "Outerwear.Blazer": 0.15,
              "Footwear.Boots": 0.10
            }
          }
        },
        {
          "axis_kr": "낙천/비관",
          "-1": {
            "boost": {
              "ColorPalette.Bright": 0.15,
              "Pattern.Polka": 0.10
            }
          },
          "+1": {
            "boost": {
              "ColorPalette.Dark": 0.15,
              "Pattern.Solid": 0.10
            }
          }
        }
      ],
      "selection_strategy": {
        "free_pick_prob": 0.30,
        "rule_mix": {
          "rule_based": 0.70,
          "soft_random": 0.20,
          "strong_random": 0.10
        }
      }
    },
    "Hair": {
      "base_styles": ["Clean Bob", "Wavy Bob", "Long Straight", "Long Wave", "Short Wave", "Ponytail", "Twin Tail", "Braids", "Updo", "Half-up", "Slick Back", "Asymmetric", "Dyed", "Layered", "Short Cut", "Buzz Cut", "Undercut", "Fade", "Curly Afro", "Perm"],
      "texture": ["Straight", "Wavy", "Curly", "Coily"],
      "wave_variants": ["Loose Wave", "Tight Wave", "Messy Wave", "Bouncy Wave", "Wet Wave"],
      "bangs": ["None", "See-through", "Blunt", "Side"],
      "part": ["Middle", "Side", "Zigzag"],
      "color": ["Black", "Dark Brown", "Light Brown", "Blonde", "Platinum", "Red", "Auburn", "Ash", "Blue", "Green", "Pink", "Purple", "Gray", "Silver", "Ombre", "Two-tone", "Highlights"],
      "accessories": ["Hairband", "Clip", "Ribbon", "Scrunchie", "Barrette"],
      "style_bias": [
        {
          "axis_kr": "내향성",
          "-1": {
            "boost": {
              "base.Clean Bob": 0.20,
              "base.Short Cut": 0.10
            }
          },
          "+1": {
            "boost": {
              "base.Ponytail": 0.15,
              "base.Dyed": 0.10,
              "base.Long Wave": 0.10
            }
          }
        },
        {
          "axis_kr": "여성/남성 이미지",
          "-1": {
            "boost": {
              "base.Long Wave": 0.20,
              "base.Layered": 0.10
            }
          },
          "+1": {
            "boost": {
              "base.Slick Back": 0.20,
              "base.Buzz Cut": 0.15,
              "base.Fade": 0.10
            }
          }
        },
        {
          "axis_kr": "보수/진보",
          "-1": {
            "boost": {
              "base.Clean Bob": 0.15,
              "base.Long Straight": 0.10
            }
          },
          "+1": {
            "boost": {
              "base.Dyed": 0.15,
              "base.Asymmetric": 0.15
            }
          }
        }
      ],
      "wave_bias": [
        {
          "axis_kr": "부드러움/거침",
          "-1": {
            "boost": {
              "wave.Loose Wave": 0.20,
              "wave.Bouncy Wave": 0.10
            }
          },
          "+1": {
            "boost": {
              "wave.Wet Wave": 0.15,
              "wave.Tight Wave": 0.10
            }
          }
        },
        {
          "axis_kr": "예술/과학",
          "-1": {
            "boost": {
              "wave.Messy Wave": 0.15
            }
          },
          "+1": {
            "boost": {}
          }
        },
        {
          "axis_kr": "친절/무정",
          "-1": {
            "boost": {
              "wave.Loose Wave": 0.10
            }
          },
          "+1": {
            "boost": {
              "wave.Wet Wave": 0.10
            }
          }
        }
      ],
      "selection_strategy": {
        "free_pick_prob": 0.30,
        "rule_mix": {
          "rule_based": 0.70,
          "soft_random": 0.20,
          "strong_random": 0.10
        }
      }
    },
    "Face": {
      "features": {
        "EyesShape": ["Large round", "Almond", "Monolid", "Double lid", "Downturned", "Upturned", "Wide-set", "Close-set"],
        "Brows": ["Straight soft", "Natural curve", "Arched sharp", "Thick", "Thin"],
        "Lashes": ["Short", "Medium", "Long"],
        "Nose": ["Small", "Straight", "Button", "Aquiline", "Wide"],
        "Lips": ["Full", "Medium", "Thin", "Heart-shaped", "Downturned", "Smirk"],
        "Mouth": ["Neutral", "Smile", "Slight frown", "Tight"],
        "SkinTone": ["Porcelain", "Fair", "Light", "Medium", "Olive", "Tan", "Deep"],
        "SkinDetail": ["Freckles", "Moles", "Blush low", "Blush high", "None"],
        "Jawline": ["Soft rounded", "Oval", "Sharp angular", "Wide strong"],
        "Cheekbones": ["Low", "Medium", "High"]
      },
      "axis_bias": [
        {
          "axis_kr": "감정/이성",
          "-1": {
            "boost": {
              "EyesShape.Large round": 0.15,
              "Mouth.Smile": 0.10,
              "SkinDetail.Blush high": 0.10
            }
          },
          "+1": {
            "boost": {
              "EyesShape.Almond": 0.10,
              "Mouth.Tight": 0.10,
              "Jawline.Sharp angular": 0.10
            }
          }
        },
        {
          "axis_kr": "겸손/거만",
          "-1": {
            "boost": {
              "Brows.Natural curve": 0.10,
              "Mouth.Neutral": 0.10,
              "Jawline.Oval": 0.05
            }
          },
          "+1": {
            "boost": {
              "Brows.Arched sharp": 0.15,
              "Mouth.Smirk": 0.10,
              "Jawline.Wide strong": 0.10
            }
          }
        },
        {
          "axis_kr": "낙천/비관",
          "-1": {
            "boost": {
              "Mouth.Smile": 0.15,
              "Lips.Full": 0.10
            }
          },
          "+1": {
            "boost": {
              "Mouth.Slight frown": 0.15,
              "Lips.Thin": 0.10
            }
          }
        },
        {
          "axis_kr": "유약/강인",
          "-1": {
            "boost": {
              "EyesShape.Downturned": 0.10,
              "Jawline.Soft rounded": 0.15
            }
          },
          "+1": {
            "boost": {
              "EyesShape.Upturned": 0.10,
              "Jawline.Wide strong": 0.15
            }
          }
        },
        {
          "axis_kr": "내향성",
          "-1": {
            "boost": {
              "Brows.Straight soft": 0.10,
              "Mouth.Neutral": 0.10
            }
          },
          "+1": {
            "boost": {
              "Brows.Arched sharp": 0.10,
              "Mouth.Smile": 0.10
            }
          }
        }
      ],
      "micro_contrast_prob": 0.15,
      "selection_strategy": {
        "free_pick_prob": 0.30,
        "rule_mix": {
          "rule_based": 0.70,
          "soft_random": 0.20,
          "strong_random": 0.10
        }
      }
    },
    "Notes": [
      "Categorical attributes cannot be averaged; use weighted or random selection.",
      "Free-pick check runs first (30%). If not triggered, apply 70/20/10 rule mix.",
      "Boost values are additive probability weights prior to normalization."
    ]
  }
}
```

### 추가 권장 사항
JSON 자체는 이제 유효하며, `Voice.tone_axis_map`의 `assertiveness` 축에서 `+pitch`와 `+speed`를 단일 값으로 수정하여 잠재적 오류를 줄였습니다. 그러나 오류가 JavaScript 코드에서 발생했으므로, `populateNarratorVoices` 함수의 구현을 확인하는 것이 중요합니다. 다음은 추가로 확인해야 할 사항입니다:

1. **데이터 로드 확인**:
   - JSON 데이터가 올바르게 로드되었는지 확인하세요. 예를 들어, `CharacterSystem.Voice.gender_pool`이 `undefined`로 로드되지 않도록 파일 읽기 또는 API 호출이 성공했는지 확인.
   - 예: `if (!data.CharacterSystem?.Voice?.gender_pool) { console.error("gender_pool is undefined"); return; }`

2. **filter 호출 점검**:
   - `populateNarratorVoices`에서 `filter`를 호출하는 부분을 확인하세요. 예를 들어, `gender_pool.female.filter(...)` 또는 `gender_pool.male.filter(...)`를 호출하기 전에 `female`과 `male` 배열이 존재하는지 확인해야 합니다.
   - 예: `if (Array.isArray(gender_pool.female)) { gender_pool.female.filter(...) } else { console.error("female array is undefined"); }`

3. **코드 예시 (오류 방지)**:
   ```javascript
   function populateNarratorVoices(data) {
     const genderPool = data?.CharacterSystem?.Voice?.gender_pool;
     if (!genderPool) {
       console.error("gender_pool is undefined or invalid");
       return;
     }
     const femaleVoices = Array.isArray(genderPool.female) ? genderPool.female : [];
     const maleVoices = Array.isArray(genderPool.male) ? genderPool.male : [];
     // filter 호출 예시
     const filteredFemaleVoices = femaleVoices.filter(voice => voice.includes("A"));
     const filteredMaleVoices = maleVoices.filter(voice => voice.includes("A"));
     console.log({ filteredFemaleVoices, filteredMaleVoices });
   }
   ```

4. **디버깅 제안**:
   - `populateNarratorVoices` 함수에 디버깅 로그를 추가하여 어떤 데이터가 `undefined`인지 확인하세요.
   - JSON 데이터를 로드한 후, `console.log(data.CharacterSystem.Voice)`를 호출하여 데이터 구조를 확인하세요.

### 사용 방법
위 JSON을 파일(예: `/mnt/data/character_prompt_system.json`)에 저장하거나, 애플리케이션에서 직접 사용할 수 있습니다. 예를 들어, Python에서 파일로 저장하려면:

```python
import json

data = { ... } # 위 JSON 내용
with open("/mnt/data/character_prompt_system.json", "w", encoding="utf-8") as f:
    json.dump(data, f, ensure_ascii=False, indent=2)
```

JavaScript에서 로드하려면:
```javascript
fetch("/mnt/data/character_prompt_system.json")
  .then(response => response.json())
  .then(data => populateNarratorVoices(data))
  .catch(error => console.error("JSON load failed:", error));
```

### 추가 지원
- `populateNarratorVoices` 함수의 실제 코드를 제공해 주시면, 더 구체적으로 오류를 수정할 수 있습니다.
- 특정 축이나 속성을 추가로 수정하거나, JSON 기반으로 샘플 데이터를 생성하고 싶다면 말씀해 주세요!
